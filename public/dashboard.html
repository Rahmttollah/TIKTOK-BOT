<!DOCTYPE html>   <html lang="en">   <head>       <meta charset="UTF-8">       <meta name="viewport" content="width=device-width, initial-scale=1.0">       <title>Dashboard - TikTok View Bot</title>       <link rel="stylesheet" href="style.css">   </head>   <body>       <div class="container">           <div class="dashboard">               <div class="header">                   <h1>ðŸ¤– TikTok View Bot</h1>                   <div class="user-info">                       <span>Welcome, <strong id="userEmail"></strong></span>                       <button onclick="logout()" class="btn logout">Logout</button>                   </div>               </div>                              <div class="bot-controls">                   <h2>ðŸŽ¯ Start View Bot</h2>                   <form id="botForm">                       <div class="input-group">                           <input type="number" id="targetViews" placeholder="Target views (e.g., 1000)" min="1" required>                       </div>                       <div class="input-group">                           <input type="text" id="videoUrl" placeholder="TikTok Video URL" required>                       </div>                       <button type="submit" class="btn start-btn">ðŸš€ Start Bot</button>                   </form>                                      <div class="stats-card">                       <h3>ðŸ“Š Live Statistics</h3>                       <div class="stats-grid">                           <div class="stat-item">                               <label>Status:</label>                               <span id="status" class="status stopped">Stopped</span>                           </div>                           <div class="stat-item">                               <label>Progress:</label>                               <span id="progress">0/0</span>                           </div>                           <div class="stat-item">                               <label>Successful:</label>                               <span id="success" class="success">0</span>                           </div>                           <div class="stat-item">                               <label>Failed:</label>                               <span id="fails" class="failed">0</span>                           </div>                           <div class="stat-item">                               <label>Requests:</label>                               <span id="reqs">0</span>                           </div>                           <div class="stat-item">                               <label>RPS:</label>                               <span id="rps">0</span>                           </div>                       </div>                   </div>                                      <button onclick="stopBot()" class="btn stop-btn" disabled>ðŸ›‘ Stop Bot</button>               </div>           </div>       </div>       <script>           const token = localStorage.getItem('token');           if (!token) {               window.location.href = '/';           }                      try {               const userData = JSON.parse(atob(token.split('.')[1]));               document.getElementById('userEmail').textContent = userData.email;           } catch (e) {               logout();           }                      let statsInterval;                      document.getElementById('botForm').addEventListener('submit', async (e) => {               e.preventDefault();                              const targetViews = document.getElementById('targetViews').value;               const videoUrl = document.getElementById('videoUrl').value;                              try {                   const response = await fetch('/api/start-bot', {                       method: 'POST',                       headers: {                           'Content-Type': 'application/json',                           'Authorization': 'Bearer ' + token                       },                       body: JSON.stringify({                           target_views: targetViews,                           video_url: videoUrl                       })                   });                                      const data = await response.json();                   alert(data.message);                                      if (data.success) {                       document.querySelector('.start-btn').disabled = true;                       document.querySelector('.stop-btn').disabled = false;                       startStatsUpdate();                   }               } catch (error) {                   alert('Error starting bot');               }           });                      async function startStatsUpdate() {               if (statsInterval) clearInterval(statsInterval);                              statsInterval = setInterval(async () => {                   try {                       const response = await fetch('/api/bot-stats', {                           headers: {                               'Authorization': 'Bearer ' + token                           }                       });                       const data = await response.json();                                              if (data.success) {                           updateStatsDisplay(data);                       }                   } catch (error) {                       console.log('Error fetching stats');                   }               }, 2000);           }                      function updateStatsDisplay(data) {               const statusElem = document.getElementById('status');               statusElem.textContent = data.running ? 'Running' : 'Stopped';               statusElem.className = `status ${data.running ? 'running' : 'stopped'}`;                              document.getElementById('progress').textContent = `${data.stats.progress}/${data.stats.target_views}`;               document.getElementById('success').textContent = data.stats.success;               document.getElementById('fails').textContent = data.stats.fails;               document.getElementById('reqs').textContent = data.stats.reqs;               document.getElementById('rps').textContent = data.stats.rps;                              if (!data.running) {                   document.querySelector('.start-btn').disabled = false;                   document.querySelector('.stop-btn').disabled = true;                   clearInterval(statsInterval);               }           }                      function stopBot() {               fetch('/api/stop-bot', {                   method: 'POST',                   headers: {                       'Authorization': 'Bearer ' + token                   }               }).then(() => {                   document.querySelector('.start-btn').disabled = false;                   document.querySelector('.stop-btn').disabled = true;               });           }                      function logout() {               localStorage.removeItem('token');               window.location.href = '/';           }                      startStatsUpdate();       </script>   </body>   </html>